package se.llbit.chunky.renderer.scene.atmosphere.aerosol;

import se.llbit.chunky.renderer.scene.atmosphere.Util;

public final class RuralAerosol extends Aerosol {
  private static final double[][] ABSORPTION_CROSS_SECTION = new double[][] {
      {360.0, 4.7080e-18},
      {370.0, 4.6009e-18},
      {380.0, 4.3821e-18},
      {390.0, 4.2564e-18},
      {400.0, 4.0330e-18},
      {410.0, 3.9339e-18},
      {420.0, 3.8904e-18},
      {430.0, 3.8009e-18},
      {440.0, 3.9498e-18},
      {450.0, 3.9069e-18},
      {460.0, 4.0998e-18},
      {470.0, 4.2943e-18},
      {480.0, 4.2700e-18},
      {490.0, 4.4910e-18},
      {500.0, 4.6961e-18},
      {510.0, 4.6750e-18},
      {520.0, 4.8831e-18},
      {530.0, 5.0448e-18},
      {540.0, 5.1300e-18},
      {550.0, 5.0362e-18},
      {560.0, 5.0640e-18},
      {570.0, 5.0834e-18},
      {580.0, 5.0701e-18},
      {590.0, 4.8235e-18},
      {600.0, 4.7731e-18},
      {610.0, 4.6247e-18},
      {620.0, 4.6296e-18},
      {630.0, 4.5186e-18},
      {640.0, 4.2952e-18},
      {650.0, 4.2097e-18},
      {660.0, 4.0163e-18},
      {670.0, 3.9599e-18},
      {680.0, 3.9624e-18},
      {690.0, 3.8539e-18},
      {700.0, 3.7259e-18},
      {710.0, 3.6598e-18},
      {720.0, 3.4921e-18},
      {730.0, 3.4085e-18},
      {740.0, 3.4380e-18},
      {750.0, 3.4781e-18},
      {760.0, 3.4317e-18},
      {770.0, 3.4025e-18},
      {780.0, 3.3967e-18},
      {790.0, 3.3107e-18},
      {800.0, 3.2626e-18},
      {810.0, 3.3098e-18},
      {820.0, 3.4030e-18},
      {830.0, 3.5067e-18},
  };

  private static final double[][] SCATTERING_CROSS_SECTION = new double[][] {
      {360.0, 1.5598e-18},
      {370.0, 1.5131e-18},
      {380.0, 1.5240e-18},
      {390.0, 1.5023e-18},
      {400.0, 1.4993e-18},
      {410.0, 1.4987e-18},
      {420.0, 1.5495e-18},
      {430.0, 1.4878e-18},
      {440.0, 1.5197e-18},
      {450.0, 1.4702e-18},
      {460.0, 1.5695e-18},
      {470.0, 1.6782e-18},
      {480.0, 1.6268e-18},
      {490.0, 1.6886e-18},
      {500.0, 1.7823e-18},
      {510.0, 1.7108e-18},
      {520.0, 1.7581e-18},
      {530.0, 1.6921e-18},
      {540.0, 1.7357e-18},
      {550.0, 1.7035e-18},
      {560.0, 1.7432e-18},
      {570.0, 1.7242e-18},
      {580.0, 1.7989e-18},
      {590.0, 1.7985e-18},
      {600.0, 1.8695e-18},
      {610.0, 1.7962e-18},
      {620.0, 1.8295e-18},
      {630.0, 1.8771e-18},
      {640.0, 1.8970e-18},
      {650.0, 1.9480e-18},
      {660.0, 1.8825e-18},
      {670.0, 1.8598e-18},
      {680.0, 1.8979e-18},
      {690.0, 1.9333e-18},
      {700.0, 1.9684e-18},
      {710.0, 2.0131e-18},
      {720.0, 1.9776e-18},
      {730.0, 1.9390e-18},
      {740.0, 1.9472e-18},
      {750.0, 1.9817e-18},
      {760.0, 2.0810e-18},
      {770.0, 2.1668e-18},
      {780.0, 2.2296e-18},
      {790.0, 2.2413e-18},
      {800.0, 2.2365e-18},
      {810.0, 2.2172e-18},
      {820.0, 2.2134e-18},
      {830.0, 2.2206e-18},
  };

  public RuralAerosol(double turbidity) {
    super(turbidity, 6.103e18, 2e6, 0.73);
  }

  @Override
  protected double getAbsorptionCrossSection(double wl) {
    return Util.lutLerp(ABSORPTION_CROSS_SECTION, wl);
  }

  @Override
  protected double getScatteringCrossSection(double wl) {
    return Util.lutLerp(SCATTERING_CROSS_SECTION, wl);
  }
}
