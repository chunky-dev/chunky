package se.llbit.chunky.renderer.scene.atmosphere.aerosol;

import se.llbit.chunky.renderer.scene.atmosphere.Util;

public final class MaritimeMineralAerosol extends Aerosol {
  private static final double[][] ABSORPTION_CROSS_SECTION = new double[][] {
      {360.0, 1.1407e-18},
      {370.0, 1.1330e-18},
      {380.0, 1.1390e-18},
      {390.0, 1.1418e-18},
      {400.0, 1.1295e-18},
      {410.0, 1.1023e-18},
      {420.0, 1.0679e-18},
      {430.0, 1.0379e-18},
      {440.0, 1.0164e-18},
      {450.0, 1.0008e-18},
      {460.0, 9.8781e-19},
      {470.0, 9.7218e-19},
      {480.0, 9.5159e-19},
      {490.0, 9.2565e-19},
      {500.0, 8.9595e-19},
      {510.0, 8.6538e-19},
      {520.0, 8.3662e-19},
      {530.0, 8.1135e-19},
      {540.0, 7.8993e-19},
      {550.0, 7.7169e-19},
      {560.0, 7.5529e-19},
      {570.0, 7.3988e-19},
      {580.0, 7.2449e-19},
      {590.0, 7.0837e-19},
      {600.0, 6.9104e-19},
      {610.0, 6.7256e-19},
      {620.0, 6.5280e-19},
      {630.0, 6.3209e-19},
      {640.0, 6.1085e-19},
      {650.0, 5.8965e-19},
      {660.0, 5.6904e-19},
      {670.0, 5.4936e-19},
      {680.0, 5.3092e-19},
      {690.0, 5.1384e-19},
      {700.0, 4.9818e-19},
      {710.0, 4.8390e-19},
      {720.0, 4.7083e-19},
      {730.0, 4.5883e-19},
      {740.0, 4.4772e-19},
      {750.0, 4.3731e-19},
      {760.0, 4.2744e-19},
      {770.0, 4.1794e-19},
      {780.0, 4.0870e-19},
      {790.0, 3.9959e-19},
      {800.0, 3.9053e-19},
      {810.0, 3.8165e-19},
      {820.0, 3.7268e-19},
      {830.0, 3.6364e-19},
  };

  private static final double[][] SCATTERING_CROSS_SECTION = new double[][] {
      {360.0, 4.1604e-25},
      {370.0, 3.1545e-25},
      {380.0, 2.2915e-25},
      {390.0, 1.4609e-25},
      {400.0, 6.3309e-26},
      {410.0, 6.1617e-26},
      {420.0, 5.9039e-26},
      {430.0, 5.6123e-26},
      {440.0, 5.3725e-26},
      {450.0, 5.2075e-26},
      {460.0, 4.9044e-26},
      {470.0, 4.6354e-26},
      {480.0, 4.3753e-26},
      {490.0, 4.1042e-26},
      {500.0, 3.8148e-26},
      {510.0, 3.5549e-26},
      {520.0, 3.2924e-26},
      {530.0, 3.0407e-26},
      {540.0, 2.8091e-26},
      {550.0, 2.6095e-26},
      {560.0, 2.7241e-26},
      {570.0, 2.8549e-26},
      {580.0, 2.9915e-26},
      {590.0, 3.1317e-26},
      {600.0, 3.2782e-26},
      {610.0, 3.7658e-26},
      {620.0, 4.2354e-26},
      {630.0, 4.6746e-26},
      {640.0, 5.0807e-26},
      {650.0, 5.4661e-26},
      {660.0, 6.8246e-26},
      {670.0, 8.1149e-26},
      {680.0, 9.3319e-26},
      {690.0, 1.0487e-25},
      {700.0, 1.2113e-25},
      {710.0, 4.7818e-25},
      {720.0, 8.2565e-25},
      {730.0, 1.1612e-24},
      {740.0, 1.4870e-24},
      {750.0, 2.0030e-24},
      {760.0, 2.0886e-23},
      {770.0, 3.9477e-23},
      {780.0, 5.7646e-23},
      {790.0, 7.5443e-23},
      {800.0, 9.2504e-23},
      {810.0, 8.4882e-23},
      {820.0, 7.7075e-23},
      {830.0, 6.9406e-23},
  };

  public MaritimeMineralAerosol(double turbidity) {
    super(turbidity, 2.0266e17, 2e6, 0.9);
  }

  @Override
  protected double getAbsorptionCrossSection(double wl) {
    return Util.lutLerp(ABSORPTION_CROSS_SECTION, wl);
  }

  @Override
  protected double getScatteringCrossSection(double wl) {
    return Util.lutLerp(SCATTERING_CROSS_SECTION, wl);
  }
}
